Category,Function Name,Input,Output,Logic,Note
concepts,concept_in_set,"concept_id, concept_set_id",boolean,"returns 1 if the concept is in the set, 0 otherwise.  ",
concepts,concept_class_id,concept_id,concept class id,returns the concept class id of the concept,
concepts,concept_from_mapping,"source, code ",concept id,returns concept_id of that concept described,
concepts,concept_name,"concept_id, locale",concept name,Returns concept name of the concept in that locale.  Prioritizes preferred and fully_specified names.  Defaults to english if there is no name in that locale.,
demographics,person_address,patient_id ,address,"entire person address with levels separated by commas.  Prioritized by preferred, date created",
demographics,person_address_one,patient_id,address one level,address one level of patient,
demographics,person_address_three,patient_id,address three level,address three level of patient,
demographics,person_address_two,patient_id,address two level,address two level of patient,
demographics,birthdate,patient_id ,birth date,birth date of person,
demographics,cdc_id,patient_id,cdc id,cdc id of patient address,
demographics,person_address_city_village,patient_id,city village address level,city village address level  of patient,
demographics,gender,patient_id,gender,gender of person,
demographics,loc_registered,patient_id ,location name,name of location where patient was registered,
demographics,registration_date,patient_id ,registration date,date of the encounter the patient was registered,
demographics,person_family_name,person_id,name,family name of person,
demographics,person_given_name,person_id,name,given name of person,
demographics,person_middle_name,person_id,name,middle name of person,
demographics,person_name,person_id,name,first and last name of person comma separated,
demographics,current_age_in_months,person_id ,patient age,Returns the current age in years as an integer of the patient,
demographics,current_age_in_years,person_id ,patient age,Returns the current age in years of the patient,
demographics,age_at_enc,"person_id, encounter_id",patient age,age in years of the patient on the encounter date,
demographics,unknown_patient,patient_id,person id,returns patient/person id of patient if the patient is an unknown patient,
demographics,phone_number,patient_id,phone number,returns phone number of patient,
demographics,person_address_state_province,patient_id,state province address level,state province address level of patient,
diagnoses,diagnosis,"encounter_id, offset, locale",concept name,returns the coded diagnosis name (if exists) in that locale of the nth diagnosis of that encounter (n being the offset),
diagnoses,diagnosis_certainty,"encounter_id, offset, locale",concept name,returns the diagnosis certainty in that locale of the nth diagnosis of that encounter (n being the offset),does this work properly?
diagnoses,diagnosis_order,"encounter_id, offset, locale",concept name,return the diagnosis order in that locale of the nth diagnosis of that encounter (n being the offset),does this work properly?
diagnoses,retrieveICD10 ,concept_id,mapping code,return ICD10 mapping of concept passed in,
diagnoses,diagnosis_obs_group_id,"encounter_id, offset",obs group id,returns the obs_group_id of the construct of the nth diagnosis of that encounter (n being the offset),
diagnoses,diagnosis_noncoded,"encounter_id, offset",text,returns the text of the noncoded diagnosis (if exists) of the nth diagnosis of that encounter (n being the offset),
drugs,drugId,name_or_uuid,drug id,returns drug id of drug with that name or uuid,
drugs,drugName,id_or_uuid ,drug name,returns drug name of drug with id or uuid,
drugs,openboxesCode,id,openboxes code,returns the openboxes code associated with the drug with the given drug id,
encounters,encounter_creator,encounter_id,creator name,returns the name of the creator of the encounter,
encounters,encounter_date ,encounter_id,encounter date,encounter date of encounter,
encounters,encounter_date_created ,encounter_id,encounter date created,encounter date created of encounter,
encounters,encounter_creator_name ,encounter_id,creator name,first and last name of creator of encounter,
encounters,encounter_type_name,encounter_id,encounter name,returns encounter name of that type,
encounters,encounter_type_name_from_id,encounter_type_id,encounter_type_name,returns name of encounter type from the id, 
encounters,encounterName,type_or_uuid,encounter name,returns the encounter name of of the encounter described by the encounter type or uuid ,
encounters,encounter_type,name_or_uuid ,encounter type id,Returns the encounter_id of encounter described,
encounters,hivEncounterLocationId,encounter_id,location id,"returns the encounter location unless it is unknown location, in which case, it will return the program enrollment location at the time of the encounter",
encounters,encounter_location_name ,encounter_id,location name,location name of encounter,
encounters,encounter_parent_location_name ,encounter_id,location name,"returns the parent location of the encounter.  It looks 3 levels deep - the encounter location, that location's parent and then that location's parent.  The first location it finds without another parent is returned.",
encounters,provider ,encounter_id,provider name,"first and last name of provider of encounter, comma separated (this limits to 1 result, but with no sorting)",
encounters,provider_name_of_type,"encounter_id, provider_type, offset", provider name,returns the name of the nth provider (based of offset) or the specified type,
encounters,provider_type ,encounter_id,provider type,name of provider type of provider of the encounter (limits to 1 with no sorting),
encounters,visit_date,encounter_id,visit date,date of visit of the encounter,
find encounters,firstEnc,"patient_id, encounter_types, begin_date",encounter id,"encounter id of first encounter out of the set of encounters described by the encounter names passed in, since the begin date, returning null if there are any",
find encounters,latestEnc,"patient_id, encounter_types, begin_date",encounter id,"encounter id of most recent encounter out of the set of encounters described by the encounter names passed in, since the begin date, returning null if there are any",
find encounters,latestEncBetweenDates,"patient_id, encounter_types, begin_date, end_date",encounter id,"encounter id of most recent encounter out of the set of encounters described by the encounter names passed in, between the begin date and end date, returning null if there are any",
find encounters,latestEncForminVisit,"patientId, encounterTypes, _visitId, _formId, begin_date",encounter id,"returns the latest encounter for that patient, of one of those encounter types, in that visit of that form type since that date",
find encounters,latestEncInVisitWithObs,"visit_id ,encounterTypes, source, term",encounter id,returns the latest encounter in that visit of that type(s) with the specified obs,
find obs,obs_id_with_drug_answer,"encounter_id, drug_id",obs id,returns obs_id of most recent obs with the drug described as the answer,
find obs,obs_id,"encounterId, source, term, offset",obs id,obs id of the nth observation in that encounter of that concept (based on offset n),
find obs,latestObs ,"patient_id, concept_id, begin_date",obs id,"obs_id of most recent obs described by the concept since the begin date, returning null if there aren't any",
find obs,latest_obs,"patient_id, source, term",obs id,obs id of most recent obs for that patient of that concept,
find obs ,answerEverExists,"patient_id , source_question, term_question, source_answer, term_answer, _begin_datetime",boolean,"looks for the question and answer for that patient since the begin datetime.  Returns 1 if it exisits, else 0",
find obs from group,obs_from_group_id_comment," obs group id, source, term",obs comment,returns most recent comment captured in that obs group of the concept described,
find obs group,obs_group_id_with_drug_answer,"encounter_id, drug_id",obs group id,returns obs_group_id of most recent obs with the drug described as the answer,
find obs group,obs_group_id_of_coded_answer,"encounterId, source, term",obs group id,returns obs group id of obs with in the encounter with the coded answer described,
find obs group,obs_group_id_of_value_coded,"encounterId, source, term, source1, term1",obs group id,returns obs group id of most recent obs with that question and answer described,
find obs group,obs_group_id_from_obs,obs_id,obs group id,returns the group id of the obs described if there is one,
identifiers,dosId ,patient_id,patient identifier,"Dossier ID of the patient, prioritized by preferred, date created",
identifiers,zlemr,patient_id    ,patient identifier,ZL EMR ID of the patient (using patient_identifier function),
identifiers,patient_identifier,"patient_id, _name_or_uuid ",patient identifier,Returns the identifier of the patient described.  Prioritizes preferred and then the most recently created one,
indexes,encounter_index_asc,"encounter_id, encounterTypes, begin_date, end_date",index,returns the index ascending of the encounter in that set for the patient,
indexes,encounter_index_desc,"encounter_id, encounterTypes, begin_date, end_date",index,returns the index descending of the encounter in that set for the patient,
indexes,retrieveConceptMapping,"concept_id, mappingsource",list of codes,returns a list of codes for the concept_id for the mapping source,
locations,location_name ,location_id,location name,returns location name of location ,
metadata,metadata_uuid,"source name, code name",uuid,uuid of the metadata item described by source and code,
misc,is_component_enabled,component,boolean,"returns true if the component is enabled, false if not",
misc,table_exists,table_name,boolean,"returns true if the given table exists in the current database, false otherwise",
obs values,value_coded_as_boolean,obs_id,boolean,"value coded of the obs translated into boolean.  Yes = 1, No = 0, otherwise null",
obs values,value_coded_name,"obs_id, locale",concept name,concept name of the value coded of the obs id in that locale,
obs values,obs_date ,obs_id,obs date,obs date of obs,
obs values,value_datetime,obs_id,value datetime,value_datetime of obs id,
obs values,value_numeric,obs_id,value numeric,value_numeric of obs id,
obs values,value_text,obs_id,value text,value_text of obs id,
obs values from encounter,obs_creator,encounter_id,creator name,return the names of the creator of the obs (names of the data entry clerk),
obs values from encounter,obs_comments,"encounterId, source,  term, source1, term1",obs comment,returns most recent comment captured in that obs with the question and answer of the concepts described,
obs values from encounter,obs_value_coded_list,"encounterId, source, term, locale","value coded (list, | separated)","returns a list, pipe delimited, of the coded values captured in that encounter of the concept described, in that locale",
obs values from encounter,obs_value_datetime,"encounterId, source, term",value datetime,returns most recent value_datetime captured in that encounter of the concept described,
obs values from encounter,obs_value_numeric,"encounterId, source, term",value numeric,returns most recent value_numeric captured in that encounter of the concept described,
obs values from encounter,obs_value_text,"encounterId, source, term",value text,returns most recent value_text captured in that encounter of the concept described,
obs values from encounter,obs_single_value_coded,"encounterId, source, term, source1, term1",Yes/Null,"returns ""yes"" in default locale if the question/answer combination  (described by mappings) exists in that encounter.  Otherwise null.",
obs values from encounter,obs_value_coded_as_boolean,"encounterId, source, term",boolean,"returns 1 if coded answer is yes, 0 if no",
obs values from group,obs_from_group_id_value_drug," obs group id, source, term",drug names,returns pipe-delimited list of names of drugs of obs in the obs group,
obs values from group,obs_from_group_id_value_coded_list,"obs group id, source, term, locale","value coded (list, | separated)","returns a list, pipe delimited, of the coded values captured in that obs group of the concept described, in that locale",
obs values from group,obs_from_group_id_value_datetime," obs group id, source, term",value datetime,returns most recent value_datetime captured in that obs group of the concept described,
obs values from group,obs_from_group_id_value_numeric," obs group id, source, term",value numeric,returns most recent value_numeric captured in that obs group of the concept described,
obs values from group,obs_from_group_id_value_text,"obs group id, source, term",value text,returns most recent value_text captured in that obs group of the concept described,
obs values from visit,obs_from_visit_value_coded,"visit_id, source, term , _offset_value,locale",concept name,returns the concept name (in that locale) of the value_coded in that visit offset by the value passed in,
obs values from visit,obs_from_visit_value_coded_list,"visit_id, source, term, locale","value coded (list, | separated)","returns a list, pipe delimited, of the coded values captured in that visit of the concept described, in that locale",
obs values from visit,obs_from_visit_value_numeric,"visit_id, source, term",value numeric,returns most recent value_numeric captured in the visit of the concept described,
functions from temp_obs table,obs_value_text_from_temp,"encounterId, source, term",value text,returns most recent value_text captured in that encounter of the concept described from the temp_obs table,
functions from temp_obs table,value_coded_as_boolean_from_temp,obs_id,boolean,"value coded of the obs from temp_obs table translated into boolean.  Yes = 1, No = 0, otherwise null",
functions from temp_obs table,obs_id_from_temp,"encounterId, source, term, offset",obs id,obs id of the nth observation in that encounter of that concept (based on offset n) from the temp_obs table,
functions from temp_obs table,obs_value_datetime_from_temp,"encounterId, source, term",value datetime,returns most recent value_datetime captured in that encounter of the concept described from the temp_obs table,
functions from temp_obs table,obs_value_coded_list_from_temp,"encounterId, source, term, locale","value coded (list, | separated)","returns a list, pipe delimited, of the coded values captured in that encounter of the concept described, in that locale  from the temp_obs table",
functions from temp_obs table,obs_single_value_coded_from_temp,"encounterId, source, term, source1, term1",Yes/Null,"returns ""yes"" in default locale if the question/answer combination  (described by mappings) exists in that encounter on the temp_obs table.  Otherwise null.",
functions from temp_obs table,obs_from_group_id_comment_from_temp," obs group id, source, term",obs comment,returns most recent comment captured in that obs group from the temp_obs table of the concept described,
functions from temp_obs table,obs_from_group_id_value_datetime_from_temp," obs group id, source, term",value datetime,returns most recent valuedatetime captured in that obs group from the temp_obs table of the concept described,
functions from temp_obs table,obs_comments_from_temp,"encounterId, source,  term, source1, term1",obs comment,returns most recent comment captured in that obs from the temp_obs table with the question and answer of the concepts described,
functions from temp_obs table,obs_from_group_id_value_coded_list_from_temp,"obs group id, source, term, locale","value coded (list, | separated)","returns a list, pipe delimited, of the coded values captured in that obs group from the temp_obs table of the concept described, in that locale",
functions from temp_obs table,obs_value_numeric_from_temp,"encounterId, source, term",value numeric,returns most recent value_numeric captured in that encounter from the temp_obs table of the concept described,
orders,OrderReasonStartDate,"patient_id, _order_reasonsource, _order_reason, _term",date activated,returns the date that the patient started on the order reason of the concept described,
orders,DrugConceptStartDate,"patient_id, drug_source,drug_term",date activated,returns the date that the patient started on the order of the drug concept of the concept described,
orders,ActiveDrugConceptNameList,"patient_id, source, term, locale",concept name list,return a list of the concept names of the active drugs for the order reason,
person attributes,person_attribute_value,"patient_id, att_type_name ",attribute value,person attribute value of the attribute for that person,
programs,programStartDate,patient_program_id,date enrolled,returns the date enrolled of the patient program,
programs,programLocationId,patient_program_id,location id,returns the location_id for that enrollment,
programs,initialProgramLocation,"patient_id, program_id",location name,returns the name of the location of the earliest enrollment of that patient and program,
programs,mostRecentPatientProgramId,"patient_id, program_id",patient program id,returns the patient_program_id of the most recent program enrollment for that patient and program,
programs,patientProgramId,"patient_id, program_id, program_date",patient program id,returns the patient_program_id of that patient's latest enrollment into that program on that date,
programs,mostRecentPatientStateId,"patient_program_id, state",patient state id,returns the most recent patient_state_id for that state within the program enrollment,
programs,program,name ,program id,program id of the program with the given name,
programs,currentProgramState,"patient_program_id, program_workflow_id, locale",program state name,returns the name of the current state in the locale if one exists in the given worflow of that patient program,
programs,patientStateStartDate,patient_state_id,state start date,returns the start date of the patient state,
properties,global_property_value,"property, defaultValue",property value,"returns the global property of the property passed in, returning the default if the value is null or blank",
properties,user_property_value,"user_id, property, defaultValue",property value,"returns the user property of the patient of the property passed in, returning the default if the value is null or blank",
relationships,relation_type,name ,relation type id,relation type id of relation described by the name,
users,username,user_id,username or systemid,username or system_id if username is null for the given user,
users,user_latest_login,user_id,datetime,returns the date of the users most recent login or null if none recorded,
users,user_num_logins,user_id,int,"returns the number of logins recorded for the given user id, or 0 if none recorded",
users,person_name_of_user,user_id,person_name,returns person name of user,
Monthly reporting,load_end_of_month_dates (procedure),"start_date, end_date",END_OF_MONTH_DATES table,creates a table with a row for every end of month date between the start date and end date,
